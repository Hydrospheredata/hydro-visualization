kind: Model
name: "adult_scalar_monitoring_vis"
payload:
  - "monitoring_model/src/"
  - "monitoring_model/requirements.txt"
  - "monitoring_model/monitoring_model.joblib"
runtime: "hydrosphere/serving-runtime-python-3.6:0.1.2-rc0"
install-command: "pip install -r requirements.txt"
contract:
  name: "predict"
  inputs:
    age:
      shape: scalar
      type: int64
      profile: numerical
    workclass:
      shape: scalar
      type: int64
      profile: numerical
    education:
      shape: scalar
      type: int64
      profile: numerical
    marital_status:
      shape: scalar
      type: int64
      profile: numerical
    occupation:
      shape: scalar
      type: int64
      profile: numerical
    relationship:
      shape: scalar
      type: int64
      profile: numerical
    race:
      shape: scalar
      type: int64
      profile: numerical
    sex:
      shape: scalar
      type: int64
      profile: numerical
    capital_gain:
      shape: scalar
      type: int64
      profile: numerical
    capital_loss:
      shape: scalar
      type: int64
      profile: numerical
    hours_per_week:
      shape: scalar
      type: int64
      profile: numerical
    country:
      shape: scalar
      type: int64
      profile: numerical
    class:
      shape: scalar
      type: int64
      profile: numerical
    embedding:
      shape: [1, 100]
      type: double
      profile: numerical
    confidence:
        shape: scalar
        type: int64
        profile: numerical
  outputs:
    value:
      shape: scalar
      type: double
      profile: numerical
---
kind: Model
name: "adult_scalar_vis"
payload:
  - "model/src/"
  - "model/requirements.txt"
  - "model/classification_model.joblib"
  - "model/sacler"
  - "model/one_hotter"
runtime: "hydrosphere/serving-runtime-python-3.6:0.1.2-rc0"
install-command: "pip install -r requirements.txt"
training-data: data/profile.csv
contract:
  name: "predict"
  inputs:
    age:
      shape: scalar
      type: int64
      profile: numerical
    workclass:
      shape: scalar
      type: int64
      profile: numerical
    education:
      shape: scalar
      type: int64
      profile: numerical
    marital_status:
      shape: scalar
      type: int64
      profile: numerical
    occupation:
      shape: scalar
      type: int64
      profile: numerical
    relationship:
      shape: scalar
      type: int64
      profile: numerical
    race:
      shape: scalar
      type: int64
      profile: numerical
    sex:
      shape: scalar
      type: int64
      profile: numerical
    capital_gain:
      shape: scalar
      type: int64
      profile: numerical
    capital_loss:
      shape: scalar
      type: int64
      profile: numerical
    hours_per_week:
      shape: scalar
      type: int64
      profile: numerical
    country:
      shape: scalar
      type: int64
      profile: numerical
  outputs:
    embedding:
      shape: [1, 100]
      type: double
      profile: numerical
    class:
      shape: scalar
      type: int64
      profile: numerical
    confidence:
      shape: scalar
      type: int64
      profile: numerical
monitoring:
  - name: outlier_score
    config:
      monitoring-model: adult_scalar_monitoring_vis:1
      operator: <=
      threshold:
---
kind: Application
name: adult_scalar_vis
singular:
  model: adult_scalar_vis:1